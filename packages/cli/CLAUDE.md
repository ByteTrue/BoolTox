# @booltox/cli - å·¥å…·å¼€å‘ CLI

> [æ ¹ç›®å½•](../../CLAUDE.md) > [packages](./) > **cli**

---

## å˜æ›´è®°å½•ï¼ˆChangelogï¼‰

| æ—¶é—´ | æ“ä½œ | è¯´æ˜ |
|------|------|------|
| 2025-12-10 21:36 | é¦–æ¬¡ç”Ÿæˆ | åŸºäºå½“å‰ä»£ç åˆå§‹åŒ–æ¨¡å—æ–‡æ¡£ |

---

## æ¨¡å—èŒè´£

**å·¥å…·å¼€å‘è€…å·¥å…·é“¾**ï¼Œæä¾›å‘½ä»¤è¡Œå·¥å…·ï¼š
- **åˆ›å»ºå·¥å…·**ï¼šè„šæ‰‹æ¶ç”Ÿæˆï¼ˆ`booltox create`ï¼‰
- **å¼€å‘å·¥å…·**ï¼šçƒ­é‡è½½å¼€å‘æœåŠ¡å™¨ï¼ˆ`booltox dev`ï¼‰
- **æ„å»ºå·¥å…·**ï¼šæ‰“åŒ…ç”Ÿäº§ç‰ˆæœ¬ï¼ˆ`booltox build`ï¼‰
- **æ‰“åŒ…å·¥å…·**ï¼šç”Ÿæˆå¯åˆ†å‘çš„ `.zip`ï¼ˆ`booltox pack`ï¼‰

**æ ¸å¿ƒç‰¹æ€§**ï¼š
- åŸºäº Commander.js çš„ CLI æ¡†æ¶
- æ”¯æŒ TypeScript/Python å·¥å…·æ¨¡æ¿
- çƒ­é‡è½½ï¼ˆChokidar ç›‘å¬æ–‡ä»¶å˜åŒ–ï¼‰
- è‡ªåŠ¨å‹ç¼©æ‰“åŒ…ï¼ˆArchiverï¼‰

---

## å…¥å£ä¸å¯åŠ¨

### å®‰è£…ï¼ˆå…¨å±€æˆ–æœ¬åœ°ï¼‰
```bash
# å…¨å±€å®‰è£…ï¼ˆæ¨èï¼‰
pnpm add -g @booltox/cli

# æˆ–åœ¨å·¥å…·é¡¹ç›®ä¸­æœ¬åœ°ä½¿ç”¨
pnpm add -D @booltox/cli
```

### å‘½ä»¤ä½¿ç”¨

#### åˆ›å»ºå·¥å…·
```bash
booltox create my-plugin
# æˆ–
pnpm --filter @booltox/cli create my-plugin
```

#### å¼€å‘æ¨¡å¼
```bash
cd my-plugin
booltox dev
# æˆ–
pnpm --filter @booltox/cli dev
```

#### æ„å»ºå·¥å…·
```bash
booltox build
```

#### æ‰“åŒ…å·¥å…·
```bash
booltox pack
# è¾“å‡ºï¼šdist/my-plugin.zip
```

---

## å¯¹å¤–æ¥å£

### CLI å‘½ä»¤

#### `booltox create <name>`
ç”Ÿæˆå·¥å…·è„šæ‰‹æ¶ï¼š
- äº¤äº’å¼é€‰æ‹©æ¨¡æ¿ï¼ˆTypeScript/Python/æ··åˆï¼‰
- ç”Ÿæˆ `package.json`ã€`src/` ç›®å½•ã€é…ç½®æ–‡ä»¶

#### `booltox dev`
å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š
- ç›‘å¬æ–‡ä»¶å˜åŒ–ï¼ˆChokidarï¼‰
- è‡ªåŠ¨é‡æ–°ç¼–è¯‘/çƒ­é‡è½½
- è¾“å‡ºåˆ° `dist/`

#### `booltox build`
æ„å»ºç”Ÿäº§ç‰ˆæœ¬ï¼š
- ç¼–è¯‘ TypeScriptï¼ˆæˆ–æ‰“åŒ… Pythonï¼‰
- å‹ç¼©ä»£ç 
- è¾“å‡ºåˆ° `dist/`

#### `booltox pack`
æ‰“åŒ…ä¸ºå¯åˆ†å‘çš„ `.zip`ï¼š
- åŒ…å« `manifest.json`ã€`dist/`ã€`README.md`
- è‡ªåŠ¨ç”Ÿæˆ SHA256 æ ¡éªŒå’Œ

---

## å…³é”®ä¾èµ–ä¸é…ç½®

### æ ¸å¿ƒä¾èµ–
- **Commander.js 12**ï¼šCLI æ¡†æ¶
- **Chokidar 3**ï¼šæ–‡ä»¶ç›‘å¬ï¼ˆçƒ­é‡è½½ï¼‰
- **Archiver 7**ï¼šZIP æ‰“åŒ…
- **Chalk 5**ï¼šç»ˆç«¯å½©è‰²è¾“å‡º
- **Ora 8**ï¼šåŠ è½½åŠ¨ç”»

### é…ç½®æ–‡ä»¶
- `bin/booltox.js`ï¼šCLI å…¥å£æ–‡ä»¶ï¼ˆShebangï¼š`#!/usr/bin/env node`ï¼‰

### å·¥å…·æ¨¡æ¿
- æ¨¡æ¿ä½ç½®ï¼š`templates/`ï¼ˆå¯èƒ½æœªåŒ…å«åœ¨æºç ä¸­ï¼Œéœ€ä»è„šæ‰‹æ¶ç”Ÿæˆï¼‰
- æ”¯æŒæ¨¡æ¿ï¼š
  - `typescript`ï¼šçº¯ TypeScript å·¥å…·
  - `python`ï¼šçº¯ Python å·¥å…·
  - `hybrid`ï¼šTS å‰ç«¯ + Python åç«¯

---

## æ•°æ®æ¨¡å‹

### å·¥å…·æ¸…å•ï¼ˆmanifest.jsonï¼‰
```json
{
  "id": "my-plugin",
  "name": "æˆ‘çš„å·¥å…·",
  "version": "1.0.0",
  "type": "typescript",
  "entry": "dist/index.js",
  "description": "å·¥å…·æè¿°"
}
```

### æ‰“åŒ…ç»“æœ
```
dist/my-plugin.zip
â”œâ”€â”€ manifest.json
â”œâ”€â”€ dist/
â”‚   â”œâ”€â”€ index.js
â”‚   â””â”€â”€ ...
â”œâ”€â”€ README.md
â””â”€â”€ ...
```

---

## æµ‹è¯•ä¸è´¨é‡

### å½“å‰çŠ¶æ€
- âŒ æ— å•å…ƒæµ‹è¯•
- âœ… TypeScript ç±»å‹æ£€æŸ¥ï¼ˆå¦‚æœæœ‰ `tsconfig.json`ï¼‰

### å»ºè®®æ”¹è¿›
1. æ·»åŠ  Vitest å•å…ƒæµ‹è¯•
2. æµ‹è¯•å‘½ä»¤æ‰§è¡Œé€»è¾‘ï¼ˆå¦‚ `create` å‘½ä»¤æ˜¯å¦ç”Ÿæˆæ­£ç¡®æ–‡ä»¶ï¼‰
3. E2E æµ‹è¯•ï¼ˆå®Œæ•´å·¥å…·å¼€å‘æµç¨‹ï¼‰

---

## å¸¸è§é—®é¢˜ï¼ˆFAQï¼‰

### Q1ï¼šå¦‚ä½•è‡ªå®šä¹‰å·¥å…·æ¨¡æ¿ï¼Ÿ
**A**ï¼š
1. ä¿®æ”¹ `templates/` ç›®å½•ï¼ˆå¦‚æœæœ‰ï¼‰
2. æˆ–åœ¨ `booltox create` å‘½ä»¤ä¸­æ·»åŠ  `--template` é€‰é¡¹

### Q2ï¼šå¼€å‘æ¨¡å¼ä¸‹å¦‚ä½•è°ƒè¯•å·¥å…·ï¼Ÿ
**A**ï¼š
1. è¿è¡Œ `booltox dev`
2. åœ¨ BoolTox Client ä¸­åŠ è½½ `dist/` ç›®å½•
3. ä¿®æ”¹æºç åè‡ªåŠ¨é‡æ–°ç¼–è¯‘

### Q3ï¼šæ‰“åŒ…åå¦‚ä½•å‘å¸ƒå·¥å…·ï¼Ÿ
**A**ï¼š
1. è¿è¡Œ `booltox pack`
2. å°† `dist/my-plugin.zip` ä¸Šä¼ åˆ°å·¥å…·ä»“åº“ï¼ˆå¦‚ GitHub Releaseï¼‰
3. æ›´æ–° `plugins/index.json` å…ƒæ•°æ®

### Q4ï¼šCLI å¦‚ä½•æ‰©å±•æ–°å‘½ä»¤ï¼Ÿ
**A**ï¼š
1. åœ¨ `bin/booltox.js` ä¸­æ·»åŠ æ–°çš„ `program.command()`
2. å®ç°å‘½ä»¤é€»è¾‘ï¼ˆå¦‚åˆ›å»ºæ–°æ–‡ä»¶ã€è°ƒç”¨å¤–éƒ¨å·¥å…·ï¼‰
3. æ›´æ–°æ–‡æ¡£

---

## ç›¸å…³æ–‡ä»¶æ¸…å•

### æ ¸å¿ƒç›®å½•
- `bin/booltox.js`ï¼šCLI å…¥å£æ–‡ä»¶
- `templates/`ï¼ˆå¯èƒ½ï¼‰ï¼šå·¥å…·æ¨¡æ¿

### å…³é”®æ–‡ä»¶
- `bin/booltox.js`ï¼šå‘½ä»¤æ³¨å†Œä¸æ‰§è¡Œé€»è¾‘
- `package.json`ï¼šCLI é…ç½®ï¼ˆ`bin` å­—æ®µï¼‰

---

## ä¸‹ä¸€æ­¥å»ºè®®

- âœ… å·²è¦†ç›–ï¼šCLI å‘½ä»¤ã€æ‰“åŒ…æµç¨‹
- âš ï¸ å¾…è¡¥å……ï¼šæ¨¡æ¿æ–‡ä»¶å†…å®¹ï¼ˆéœ€æŸ¥çœ‹ `templates/` ç›®å½•æˆ–ç”Ÿæˆç¤ºä¾‹ï¼‰
- ğŸ” æ¨èæ“ä½œï¼šè¿è¡Œ `booltox create test-plugin` ä½“éªŒå®Œæ•´æµç¨‹
